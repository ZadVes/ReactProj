{"ast":null,"code":"import axios from'axios';const API=axios.create({baseURL:process.env.NODE_ENV==='production'?'/api':'http://localhost:5000/api',timeout:10000});console.log('NODE_ENV:',process.env.NODE_ENV);export const fetchProducts=async function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const response=await API.get('/products',{params});return response.data;}catch(error){var _error$response,_error$response$data;throw new Error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to fetch products');}};export const createOrder=orderData=>API.post('/orders',orderData);export const fetchOrders=async()=>{try{const response=await API.get('/orders');return response.data;}catch(error){var _error$response2,_error$response2$data;throw new Error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Не удалось загрузить заказы');}};","map":{"version":3,"names":["axios","API","create","baseURL","process","env","NODE_ENV","timeout","console","log","fetchProducts","params","arguments","length","undefined","response","get","data","error","_error$response","_error$response$data","Error","message","createOrder","orderData","post","fetchOrders","_error$response2","_error$response2$data"],"sources":["C:/Users/nikit/OneDrive/Документы/GitHub/ReactProj/client/src/API/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API = axios.create({\r\n  baseURL: process.env.NODE_ENV === 'production' \r\n    ? '/api' \r\n    : 'http://localhost:5000/api',\r\n  timeout: 10000\r\n});\r\n\r\nconsole.log('NODE_ENV:', process.env.NODE_ENV);\r\n\r\n\r\nexport const fetchProducts = async (params = {}) => {\r\n  try {\r\n    const response = await API.get('/products', { params });\r\n    return response.data;\r\n  } catch (error) {\r\n    throw new Error(error.response?.data?.message || 'Failed to fetch products');\r\n  }\r\n};\r\n\r\nexport const createOrder = (orderData) => API.post('/orders', orderData);\r\n\r\nexport const fetchOrders = async () => {\r\n  try {\r\n    const response = await API.get('/orders');\r\n    return response.data;\r\n  } catch (error) {\r\n    throw new Error(error.response?.data?.message || 'Не удалось загрузить заказы');\r\n  }\r\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,GAAG,CAAGD,KAAK,CAACE,MAAM,CAAC,CACvBC,OAAO,CAAEC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,YAAY,CAC1C,MAAM,CACN,2BAA2B,CAC/BC,OAAO,CAAE,KACX,CAAC,CAAC,CAEFC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEL,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC,CAG9C,MAAO,MAAM,CAAAI,aAAa,CAAG,cAAAA,CAAA,CAAuB,IAAhB,CAAAC,MAAM,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CAC7C,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAd,GAAG,CAACe,GAAG,CAAC,WAAW,CAAE,CAAEL,MAAO,CAAC,CAAC,CACvD,MAAO,CAAAI,QAAQ,CAACE,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,KAAAC,eAAA,CAAAC,oBAAA,CACd,KAAM,IAAI,CAAAC,KAAK,CAAC,EAAAF,eAAA,CAAAD,KAAK,CAACH,QAAQ,UAAAI,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBF,IAAI,UAAAG,oBAAA,iBAApBA,oBAAA,CAAsBE,OAAO,GAAI,0BAA0B,CAAC,CAC9E,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,WAAW,CAAIC,SAAS,EAAKvB,GAAG,CAACwB,IAAI,CAAC,SAAS,CAAED,SAAS,CAAC,CAExE,MAAO,MAAM,CAAAE,WAAW,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAX,QAAQ,CAAG,KAAM,CAAAd,GAAG,CAACe,GAAG,CAAC,SAAS,CAAC,CACzC,MAAO,CAAAD,QAAQ,CAACE,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,KAAAS,gBAAA,CAAAC,qBAAA,CACd,KAAM,IAAI,CAAAP,KAAK,CAAC,EAAAM,gBAAA,CAAAT,KAAK,CAACH,QAAQ,UAAAY,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBV,IAAI,UAAAW,qBAAA,iBAApBA,qBAAA,CAAsBN,OAAO,GAAI,6BAA6B,CAAC,CACjF,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}